/* =========================================
   1. CẤU HÌNH CHUNG & FONTS
   ========================================= */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Dancing+Script:wght@600&display=swap');

body {
    font-family: 'Playfair Display', serif;
    background-color: #F0EAD6; /* Màu giấy Dó */
    color: #2D2D2D;
    overflow-x: hidden; /* Ẩn thanh cuộn ngang */
}

/* Hiệu ứng giấy cũ (Paper Texture) */
.paper-texture {
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%;
    pointer-events: none; 
    z-index: -1; 
    opacity: 0.4;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* Màu sắc chủ đạo */
.text-cinnabar { color: #C62828; }
.bg-cinnabar { background-color: #C62828; }

/* =========================================
   2. NAVIGATION (MENU)
   ========================================= */
.nav-link { 
    position: relative; 
}

.nav-link::after {
    content: ''; 
    position: absolute; 
    width: 0; 
    height: 2px; 
    bottom: -2px; 
    left: 0;
    background-color: #C62828; 
    transition: width 0.3s;
}

.nav-link:hover::after { 
    width: 100%; 
}

.nav-link.active { 
    color: #C62828; 
    font-weight: bold; 
}

/* =========================================
   3. CHATBOT WIDGET
   ========================================= */
.chat-window { 
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); 
    transform-origin: bottom right; 
}

.chat-hidden { 
    transform: scale(0.9) translateY(20px); 
    opacity: 0; 
    pointer-events: none; 
    visibility: hidden; 
}

/* Scrollbar tùy chỉnh cho khung chat */
#chat-body::-webkit-scrollbar { width: 6px; }
#chat-body::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.2); border-radius: 10px; }

/* Định dạng văn bản trong chat (Markdown) */
.prose p { margin-bottom: 0.5em; }
.prose ul { list-style-type: disc; margin-left: 1.2em; }
.prose strong { color: #C62828; font-weight: bold; }

/* =========================================
   4. HIỆU ỨNG 3D & BẢO TÀNG (Mới thêm)
   ========================================= */
/* Ánh sáng bảo tàng cho khung 3D */
.museum-light {
    background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.8) 70%);
    box-shadow: inset 0 0 50px #000;
}

/* Hiệu ứng phóng to ảnh khi hover (Dùng cho các Card văn hóa) */
.culture-card { overflow: hidden; border-radius: 0.5rem; }
.culture-card img { transition: transform 0.5s ease; width: 100%; height: 100%; object-fit: cover; }
.culture-card:hover img { transform: scale(1.1); }

/* =========================================
   5. BẢN ĐỒ (Mới thêm)
   ========================================= */
.map-container { 
    position: relative; 
    width: 100%; 
    max-width: 600px; 
    margin: 0 auto; 
}

.map-marker {
    position: absolute; 
    width: 30px; height: 30px;
    background-color: #C62828; 
    color: white; 
    border-radius: 50%;
    display: flex; 
    justify-content: center; 
    align-items: center;
    font-weight: bold; 
    cursor: pointer; 
    box-shadow: 0 0 10px rgba(198, 40, 40, 0.5);
    transition: transform 0.3s; 
    z-index: 10;
}

.map-marker:hover { 
    transform: scale(1.2); 
    background-color: #b71c1c; 
}

.region-list a { 
    display: block; 
    padding: 8px; 
    background: white; 
    margin-bottom: 8px; 
    border-radius: 4px; 
    border: 1px solid #eee; 
    transition: all 0.2s; 
    text-decoration: none;
    color: #4a4a4a;
}

.region-list a:hover { 
    border-color: #C62828; 
    color: #C62828; 
    padding-left: 12px; 
}