<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog VƒÉn H√≥a - B·∫£n S·∫Øc Vi·ªát</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        /* Hi·ªáu ·ª©ng n√∫t l·ªçc */
        .filter-btn.active {
            background-color: #C62828;
            color: white;
            border-color: #C62828;
        }

        /* Hi·ªáu ·ª©ng ·∫£nh b√†i vi·∫øt */
        .blog-card img {
            transition: transform 0.7s ease;
        }

        .blog-card:hover img {
            transform: scale(1.1);
        }

        /* Text clamp */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>

<body class="flex flex-col min-h-screen font-[Playfair_Display]">

    <div class="paper-texture"></div>

    <main class="flex-grow container mx-auto px-6 py-10 pt-28 max-w-6xl">

        <!-- HEADER -->
        <div class="text-center mb-12 gs-reveal">
            <h1 class="text-4xl md:text-6xl font-bold text-cinnabar mb-4">G√≥c Nh√¨n VƒÉn H√≥a</h1>
            <p class="text-gray-600 italic max-w-2xl mx-auto">
                "M·ªói c√¢u chuy·ªán l√† m·ªôt m·∫£nh gh√©p, t√°i hi·ªán l·∫°i b·ª©c tranh vƒÉn h√≥a r·ª±c r·ª° ng√†n ƒë·ªùi c·ªßa cha √¥ng."
            </p>
        </div>

        <!-- FEATURED POST (TI√äU ƒêI·ªÇM) -->
        <div class="mb-16 gs-reveal">
            <h2 class="text-2xl font-bold text-gray-800 uppercase tracking-widest mb-6 border-l-4 border-cinnabar pl-4">
                üî• Ti√™u ƒêi·ªÉm Tu·∫ßn N√†y</h2>
            <div
                class="group relative w-full h-[400px] md:h-[500px] rounded-2xl overflow-hidden shadow-2xl cursor-pointer">
                <img src="../images/thai/logo-dan-toc.jpg" alt="M√∫a X√≤e Th√°i"
                    class="absolute inset-0 w-full h-full object-cover transition duration-1000 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-90"></div>
                <div class="absolute bottom-0 left-0 p-8 md:p-12 text-white max-w-3xl">
                    <span
                        class="bg-yellow-600 text-white px-3 py-1 rounded text-xs font-bold uppercase tracking-wider mb-2 inline-block">Di
                        S·∫£n Phi V·∫≠t Th·ªÉ</span>
                    <h3
                        class="text-3xl md:text-5xl font-bold mb-4 leading-tight group-hover:text-yellow-400 transition">
                        Ngh·ªá Thu·∫≠t X√≤e Th√°i: V≈© ƒêi·ªáu K·∫øt ƒêo√†n</h3>
                    <p class="text-gray-200 text-lg line-clamp-2 mb-6 text-justify">
                        Kh√¥ng ch·ªâ l√† nh·ªØng ƒëi·ªáu m√∫a uy·ªÉn chuy·ªÉn, X√≤e Th√°i c√≤n l√† bi·ªÉu t∆∞·ª£ng c·ªßa t√¨nh ƒëo√†n k·∫øt, l√≤ng m·∫øn
                        kh√°ch v√† quan ni·ªám nh√¢n sinh cao ƒë·∫πp c·ªßa ng∆∞·ªùi Th√°i T√¢y B·∫Øc.
                    </p>
                    <a href="../dan_toc/dan-toc-thai.html"
                        class="inline-block bg-cinnabar hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition transform hover:-translate-y-1 shadow-lg">
                        Kh√°m Ph√° Ngay &rarr;
                    </a>
                </div>
            </div>
        </div>

        <!-- FILTER BUTTONS -->
        <div
            class="flex flex-wrap justify-center gap-4 mb-12 gs-reveal sticky top-20 z-30 bg-[#fdfbf7]/90 p-4 rounded-full backdrop-blur-sm shadow-sm border border-gray-200/50">
            <button onclick="filterPosts('all')"
                class="filter-btn active px-6 py-2 border border-gray-400 rounded-full hover:border-cinnabar hover:text-cinnabar transition duration-300 text-sm font-bold uppercase">T·∫•t
                C·∫£</button>
            <button onclick="filterPosts('van-hoa')"
                class="filter-btn px-6 py-2 border border-gray-400 rounded-full hover:border-cinnabar hover:text-cinnabar transition duration-300 text-sm font-bold uppercase">üé≠
                VƒÉn H√≥a & L·ªÖ H·ªôi</button>
            <button onclick="filterPosts('am-thuc')"
                class="filter-btn px-6 py-2 border border-gray-400 rounded-full hover:border-cinnabar hover:text-cinnabar transition duration-300 text-sm font-bold uppercase">üçú
                ·∫®m Th·ª±c</button>
            <button onclick="filterPosts('trang-phuc')"
                class="filter-btn px-6 py-2 border border-gray-400 rounded-full hover:border-cinnabar hover:text-cinnabar transition duration-300 text-sm font-bold uppercase">üëò
                Trang Ph·ª•c</button>
            <button onclick="filterPosts('lang-nghe')"
                class="filter-btn px-6 py-2 border border-gray-400 rounded-full hover:border-cinnabar hover:text-cinnabar transition duration-300 text-sm font-bold uppercase">üè∫
                L√†ng Ngh·ªÅ</button>
        </div>

        <!-- BLOG GRID -->
        <div id="blog-grid" class="grid md:grid-cols-3 gap-8 pb-20">
            <!-- Content will be injected by JS -->
        </div>

    </main>

    <script type="module" src="../js/layout.js"></script>

    <script>
        // --- C∆† S·ªû D·ªÆ LI·ªÜU B√ÄI VI·∫æT ƒêA D·∫†NG ---
        const blogPosts = [
            {
                id: 1,
                category: "van-hoa",
                title: "L·ªÖ C·∫•p S·∫Øc: D·∫•u ·∫§n Tr∆∞·ªüng Th√†nh Ng∆∞·ªùi Dao",
                desc: "Nghi l·ªÖ quan tr·ªçng b·∫≠c nh·∫•t trong ƒë·ªùi ng∆∞·ªùi ƒë√†n √¥ng Dao, ƒë√°nh d·∫•u s·ª± c√¥ng nh·∫≠n c·ªßa c·ªông ƒë·ªìng v√† th·∫ßn linh.",
                image: "../images/dao/logo-dan-toc.jpg",
                date: "23/12/2025"
            },
            {
                id: 2,
                category: "van-hoa",
                title: "Kh√¥ng Gian VƒÉn H√≥a C·ªìng Chi√™ng T√¢y Nguy√™n",
                desc: "Ti·∫øng c·ªìng chi√™ng kh√¥ng ch·ªâ l√† √¢m nh·∫°c, m√† l√† ti·∫øng n√≥i c·ªßa t√¢m linh, k·∫øt n·ªëi con ng∆∞·ªùi v·ªõi th·∫ßn linh v√† thi√™n nhi√™n.",
                image: "../images/gia-rai/logo-dan-toc.jpg",
                date: "22/12/2025"
            },
            {
                id: 3,
                category: "trang-phuc",
                title: "S·∫Øc Ch√†m C·ªßa Ng∆∞·ªùi T√†y",
                desc: "V·∫ª ƒë·∫πp m·ªôc m·∫°c, b·ªÅn b·ªâ c·ªßa trang ph·ª•c v·∫£i ch√†m th·ªß c√¥ng - bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± c·∫ßn c√π v√† th·ªßy chung.",
                image: "../images/tay/logo-dan-toc.jpg",
                date: "20/12/2025"
            },
            {
                id: 4,
                category: "am-thuc",
                title: "C∆°m Lam & G√† N∆∞·ªõng: H∆∞∆°ng V·ªã ƒê·∫°i Ng√†n",
                desc: "S·ª± k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa l√∫a n∆∞∆°ng d·∫ªo th∆°m n∆∞·ªõng trong ·ªëng tre v√† g√† ch·∫°y b·ªô ƒë·∫≠m ƒë√† gia v·ªã n√∫i r·ª´ng.",
                image: "../images/ba-na/logo-dan-toc.jpg",
                date: "18/12/2025"
            },
            {
                id: 5,
                category: "van-hoa",
                title: "Th√°p Ch√†m & B√≠ ·∫®n K·ªπ Thu·∫≠t X√¢y D·ª±ng",
                desc: "Nh·ªØng ng√¥i th√°p g·∫°ch ng√†n nƒÉm tu·ªïi ƒë·ª©ng v·ªØng tr∆∞·ªõc th·ªùi gian, th√°ch th·ª©c m·ªçi gi·∫£i m√£ v·ªÅ ch·∫•t k·∫øt d√≠nh.",
                image: "../images/cham/logo-dan-toc.jpg",
                date: "15/12/2025"
            },
            {
                id: 6,
                category: "am-thuc",
                title: "S·ª± T√≠ch B√°nh Ch∆∞ng: Tri·∫øt L√Ω Vu√¥ng Tr√≤n",
                desc: "Kh√¥ng ch·ªâ l√† m√≥n ƒÉn, B√°nh Ch∆∞ng c√≤n l√† v≈© tr·ª• quan c·ªßa ng∆∞·ªùi Vi·ªát c·ªï v·ªÅ Tr·ªùi tr√≤n ƒê·∫•t vu√¥ng.",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Banh_chung_tet_2005.jpg/800px-Banh_chung_tet_2005.jpg",
                date: "20/11/2025"
            },
            {
                id: 7,
                category: "trang-phuc",
                title: "V√°y Hoa S·∫∑c S·ª° C·ªßa Ng∆∞·ªùi M√¥ng",
                desc: "B·ªô trang ph·ª•c nh∆∞ m·ªôt v∆∞·ªùn hoa di ƒë·ªông, th·ªÉ hi·ªán k·ªπ thu·∫≠t th√™u th√πa v√† gh√©p v·∫£i ƒë·ªânh cao.",
                image: "../images/hmong/logo-dan-toc.jpg",
                date: "10/11/2025"
            },
            {
                id: 8,
                category: "van-hoa",
                title: "Nh√† R√¥ng: Tr√°i Tim C·ªßa Bu√¥n L√†ng",
                desc: "N∆°i h·ªôi t·ª• kh√≠ thi√™ng c·ªßa ƒë·∫•t tr·ªùi, n∆°i di·ªÖn ra c√°c s·ª± ki·ªán tr·ªçng ƒë·∫°i c·ªßa c·ªông ƒë·ªìng c√°c d√¢n t·ªôc T√¢y Nguy√™n.",
                image: "../images/xo-dang/logo-dan-toc.jpg",
                date: "05/11/2025"
            },
            {
                id: 9,
                category: "lang-nghe",
                title: "D·ªát Th·ªï C·∫©m: S·ª£i Nh·ªõ S·ª£i Th∆∞∆°ng",
                desc: "Ngh·ªÅ d·ªát truy·ªÅn th·ªëng kh√¥ng ch·ªâ t·∫°o ra v·∫≠t d·ª•ng m√† c√≤n d·ªát n√™n t√¢m t∆∞, t√¨nh c·∫£m c·ªßa ng∆∞·ªùi ph·ª• n·ªØ.",
                image: "../images/e-de/logo-dan-toc.jpg", // Corrected e-de path
                date: "01/11/2025"
            }
        ];

        // --- H√ÄM HI·ªÇN TH·ªä B√ÄI VI·∫æT (Fixed) ---
        function renderPosts(data) {
            const grid = document.getElementById('blog-grid');

            // 1. Clear content first
            grid.innerHTML = '';

            // 2. Check data
            if (data.length === 0) {
                grid.innerHTML = `<div class="col-span-3 text-center text-gray-500 italic py-10">Ch∆∞a c√≥ b√†i vi·∫øt n√†o cho m·ª•c n√†y.</div>`;
                return;
            }

            // 3. Render HTML - Normal visibility checking
            data.forEach((post, index) => {
                const html = `
                    <article class="blog-card flex flex-col bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 border border-gray-100 cursor-pointer group h-full">
                        <div class="h-56 overflow-hidden relative">
                            <img src="${post.image}" alt="${post.title}" class="w-full h-full object-cover">
                            <div class="absolute top-4 left-4 bg-gradient-to-r from-cinnabar to-red-600 text-white text-[10px] px-3 py-1 rounded-full font-bold uppercase shadow-md tracking-wider">
                                ${getCategoryName(post.category)}
                            </div>
                        </div>
                        <div class="p-6 flex-1 flex flex-col">
                            <div class="text-xs text-gray-400 mb-3 flex items-center gap-2 font-sans">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                <span>${post.date}</span>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3 group-hover:text-cinnabar transition line-clamp-2 leading-tight">
                                ${post.title}
                            </h3>
                            <p class="text-gray-600 text-sm mb-4 line-clamp-3 text-justify leading-relaxed">
                                ${post.desc}
                            </p>
                            <div class="mt-auto pt-4 border-t border-gray-100 flex justify-between items-center">
                                <span class="text-cinnabar font-bold text-sm flex items-center gap-1 group-hover:translate-x-1 transition">
                                    ƒê·ªçc ti·∫øp <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                                </span>
                            </div>
                        </div>
                    </article>
                `;
                grid.innerHTML += html;
            });

            // 4. Trigger Animation
            // Use gsap.from: Animate FROM these values TO natural state
            gsap.from(".blog-card", {
                y: 50,
                opacity: 0,
                duration: 0.6,
                stagger: 0.1,
                ease: "power2.out",
                clearProps: "all" // Safe to use now because natural state is visible
            });
        }

        function getCategoryName(slug) {
            const names = {
                'van-hoa': 'VƒÉn H√≥a',
                'am-thuc': '·∫®m Th·ª±c',
                'trang-phuc': 'Trang Ph·ª•c',
                'phong-tuc': 'Phong T·ª•c',
                'lang-nghe': 'L√†ng Ngh·ªÅ',
                'all': 'T·∫•t C·∫£'
            };
            return names[slug] || 'Kh√°c';
        }

        window.filterPosts = function (category) {
            // Update UI Buttons
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active', 'bg-cinnabar', 'text-white', 'border-cinnabar'));
            event.target.classList.add('active', 'bg-cinnabar', 'text-white', 'border-cinnabar');

            // Filter Logic
            // Simple approach: Re-render without complex grid transitions for stability
            if (category === 'all') {
                renderPosts(blogPosts);
            } else {
                const filtered = blogPosts.filter(post => post.category === category);
                renderPosts(filtered);
            }
        }

        // Init
        renderPosts(blogPosts);

        // Header animation
        gsap.from(".gs-reveal", { opacity: 0, y: 30, duration: 1, stagger: 0.2, ease: "power2.out" });

    </script>
</body>

</html>